(function(n,l){typeof exports=="object"&&typeof module<"u"?l(exports):typeof define=="function"&&define.amd?define(["exports"],l):(n=typeof globalThis<"u"?globalThis:n||self,l(n.miniFrame={}))})(this,function(n){"use strict";function l(t,...e){const c=t.map((u,i)=>(e[i-1]??"")+u).join("");let o=document.createElement("style");return o.textContent=c,o}const s={},m=[];let h=!1,f;const T=new Proxy({},{get(t,e){return b(e),t[e]},set(t,e,c){return t[e]=c,C(e),!0}});function b(t){f&&(s[t]??(s[t]=[])).push(f)}function _(){for(;m.length;)m.shift()()}function C(t){s[t]&&(m.push(...s[t]),h||(h=!0,queueMicrotask(()=>{h=!1,_()})))}function y(t){f=t,t(),f=void 0}n.container=void 0;const p=(t,e)=>{n.container=e?document.querySelector(e):document.getElementById("container"),y(()=>{let c=t();n.container.firstElementChild?(n.container.childNodes.forEach(o=>o.remove()),n.container.firstElementChild.replaceWith(c[0],c[1])):(n.container.appendChild(c[0]),n.container.appendChild(c[1]))})},v=t=>{throw new Error(t+" ----from [miniFrame]")},S=(t,e)=>{if(t in globalThis){v("param "+t+" aganst origin globalThis params");return}globalThis[t]=(...c)=>e(...c)};let g;function k(t){const e=document.createElement("template");return e.innerHTML=t,e}function j(t,...e){const c=i=>i.replaceAll(/__stub-(\d+)__/g,(a,r)=>e[r]);if(!g){const i=e.map((d,E)=>`__stub-${E}__`),r=t.map((d,E)=>(i[E-1]??"")+d).join("");g=k(r)}const o=g.content.cloneNode(!0).firstElementChild;function u(i){if(i.nodeType==1)for(const{name:a,value:r}of i.attributes)i.setAttribute(a,c(r));else i.nodeType==3&&(i.textContent=c(i.textContent));return i.childNodes.length>0&&Array.from(i.childNodes).forEach((a,r,d)=>{d[r]=u(a)}),i}return u(o)}n.createEffect=y,n.css=l,n.data=T,n.html=j,n.makeFunc=S,n.startEngine=p,Object.defineProperty(n,Symbol.toStringTag,{value:"Module"})});
